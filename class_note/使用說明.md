# 📖 PDF 轉換工具使用說明

> 快速將 Markdown 筆記轉換成精美的 PDF

---

## 🚀 最快速的方式

```bash
# 在 class_note 資料夾中執行
make
```

就這麼簡單！系統會自動：
1. ✅ 尋找所有筆記檔案
2. ✅ 轉換成 PDF
3. ✅ 輸出到 `pdf_output/` 資料夾

---

## 📋 完整指令列表

### 基本使用

```bash
# 生成所有 PDF
make

# 查看幫助
make help

# 查看統計資訊
make stats
```

### 特定日期的筆記

```bash
# 只轉換 2025-10-02 的筆記
make pdf DATE=2025-10-02
```

### 管理 PDF 檔案

```bash
# 清除所有 PDF
make clean

# 重新生成所有 PDF
make rebuild

# 開啟 PDF 資料夾
make open
```

### 檢查與安裝

```bash
# 檢查必要套件
make check

# 安裝必要套件（如果缺少）
make install-deps
```

---

## 🎨 PDF 樣式

生成的 PDF 具有：

### 視覺設計
- **標題顏色**：龍華紅 (RGB: 204, 0, 51)
- **字體**：PingFang TC（蘋方-繁）
- **邊距**：2.5cm 舒適閱讀
- **行距**：1.3 倍行高

### 頁面元素
- **頁首左側**：龍華科技大學 - 基礎數學 I
- **頁首右側**：上課日期（自動從檔名提取）
- **頁尾**：頁碼
- **標題**：分層清楚，色彩區分

### 🔍 日期自動提取

系統會自動從檔名提取上課日期：

```
檔名：筆記_2025-10-02_markdown版.md
     ↓
PDF 右上角顯示：2025-10-02
```

**優點**：
- ✅ 不需要手動設定日期
- ✅ 日期永遠正確（就是上課當天）
- ✅ 所有筆記統一格式

### 內容支援
- ✅ 數學公式（LaTeX）
- ✅ 程式碼區塊
- ✅ 表格
- ✅ 超連結
- ✅ 圖片

---

## 📝 Markdown 撰寫技巧

### 1. 基本結構

```markdown
# 基礎數學 I - 上課筆記

**日期**: 2025-10-02
**章節**: Ch2 函數

---

## 主題

內容...
```

### 2. 數學公式

**行內公式**：
```markdown
函數 `f(x) = x²` 是二次函數
```

**獨立公式**：
````markdown
```math
f(x) = x² + 2x + 1
```
````

### 3. 程式碼區塊

````markdown
```python
def f(x):
    return x**2
```
````

### 4. 表格

```markdown
| 項目 | 說明 |
|------|------|
| f(0) | 0    |
| f(1) | 1    |
```

### 5. 強調文字

```markdown
**粗體**
*斜體*
`程式碼`
```

---

## 🔧 檔案命名規則

### Markdown 檔案

**格式**：`筆記_YYYY-MM-DD_描述.md`

**範例**：
```
筆記_2025-10-02_markdown版.md
筆記_2025-10-09_函數與指數.md
筆記_2025-10-16_完全平方公式.md
```

### 存放位置

- **草稿**：放在 `draft/` 目錄
- **正式版**：放在 `class_note/` 根目錄

兩個位置的檔案都會被轉換！

---

## ❓ 常見問題

### Q1: PDF 在哪裡？

**答**：在 `pdf_output/` 資料夾中

```bash
# 直接開啟資料夾
make open
```

### Q2: 如何查看有哪些檔案？

**答**：

```bash
# 列出所有可轉換的檔案
make list

# 查看統計資訊
make stats
```

### Q3: 轉換失敗怎麼辦？

**答**：

```bash
# 1. 檢查套件
make check

# 2. 如果缺少套件
make install-deps

# 3. 重新啟動終端機後再試
make
```

### Q4: 如何只轉換一個檔案？

**答**：

```bash
# 使用日期指定
make pdf DATE=2025-10-02
```

### Q5: 能不能自訂 PDF 樣式？

**答**：可以！編輯 `template.tex` 檔案：

- **顏色**：修改 RGB 值
- **字體**：修改 `CJKmainfont`
- **邊距**：修改 `geometry:margin`
- **頁首頁尾**：修改 `fancyhdr` 設定

---

## 💡 進階使用

### 1. 批次轉換特定檔案

```bash
# 轉換多個特定日期
make pdf DATE=2025-10-02
make pdf DATE=2025-10-09
make pdf DATE=2025-10-16
```

### 2. 自動化流程

建立 shell script：

```bash
#!/bin/bash
# convert_all.sh

cd class_note
make rebuild
make open
```

### 3. 使用 Shell 腳本

如果 make 有問題，可以直接用 shell 腳本：

```bash
./pdf_convert.sh              # 生成所有
./pdf_convert.sh 2025-10-02   # 特定日期
./pdf_convert.sh stats        # 統計
```

---

## 📚 技術細節

### 轉換流程

```
Markdown (.md)
    ↓
Pandoc 處理
    ↓
LaTeX 原始碼
    ↓
XeLaTeX 編譯
    ↓
PDF 輸出
```

### 使用的工具

1. **Pandoc** - 文件轉換引擎
   - 版本：需 2.0+
   - 功能：Markdown → LaTeX

2. **XeLaTeX** - PDF 編譯器
   - 來源：MacTeX
   - 功能：LaTeX → PDF
   - 優勢：完整中文支援

3. **PingFang TC** - 中文字體
   - 來源：macOS 內建
   - 風格：現代、清晰

### 範本檔案

`template.tex` 包含：
- 頁面配置
- 字體設定
- 顏色定義
- 標題格式
- 程式碼樣式
- 數學環境

---

## 🎯 快速參考

```bash
# 最常用的 3 個指令
make              # 生成所有 PDF
make open         # 開啟 PDF 資料夾
make clean        # 清除 PDF

# 故障排除
make check        # 檢查環境
make rebuild      # 重新生成

# 資訊查詢
make list         # 列出檔案
make stats        # 統計資訊
make help         # 完整說明
```

---

## 📞 需要協助？

如果遇到問題：

1. **查看錯誤訊息**：通常會提示缺少什麼
2. **執行 `make check`**：確認環境
3. **查看 README.md**：完整文件
4. **檢查檔名格式**：必須符合 `筆記_YYYY-MM-DD_*.md`

---

*最後更新：2025-10-10*
*如有問題請聯繫：鄭澈*
